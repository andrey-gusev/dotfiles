#!/usr/bin/env bash

if [ -n "$1" ] && [ -f "$1" ]; then
    wall="$1"
elif [ -d "$HOME/pix" ]; then
    wall=$(find "$HOME/pix" -type f \( -name "*.jpg" -o -name "*.png" \) | shuf -n 1)
else
    wall=""
fi

if [ -z "$wall" ]; then
    wal --theme sexy-hund
else
    wal -c
    wal -i "$wall"
    hyprctl hyprpaper preload "$wall"
    hyprctl hyprpaper wallpaper ",$wall"
fi
